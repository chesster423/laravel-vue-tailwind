System.register(["./vendor-legacy-5a00c1f1.js","./app-legacy-f97a04bf.js","./vue-axios.esm.min-legacy-eb37414a.js"],(function(e,o){"use strict";var t,a,i,s,n,r,l,c,d,g,u,p,m,b,f,h,y,x,k,w,v,L,C;return{setters:[e=>{t=e.a,a=e.b,i=e.Q,s=e.y,n=e.o,r=e.c,l=e.C,c=e.n,d=e.D,g=e.al,u=e.r,p=e.e,m=e.G,b=e.ad,f=e.B,h=e.d,y=e.w,x=e.E,k=e.z},e=>{w=e.t,v=e._,L=e.C,C=e.r},null],execute:function(){const o={name:"SocialiteLogins",components:{},props:{},setup:()=>({}),data:()=>({loading:!1,window:{},authWindowTitle:"Authentication Login"}),computed:{...t({logins:"auth/logins",token:"auth/token"}),socialLoginsEnabled(){return!!Object.values(this.logins).find((e=>"1"==e))}},watch:{},created(){},mounted(){window.addEventListener("message",this.onMessage,!1)},beforeUnmount(){window.removeEventListener("message",this.onMessage)},updated(){},methods:{...a({popToast:"toast/popToast",fetchOauthUrl:"auth/fetchOauthUrl",saveToken:"auth/saveToken",getUser:"auth/getUser",getUserByToken:"auth/getUserByToken"}),track:w,async socialiteLogin(e){this.track(`Social Login Provider Clicked: ${e}`),this.loading=!0;try{await i.get("/sanctum/csrf-cookie").then((e=>{}));const o=await this.fetchOauthUrl({provider:e}).then((e=>(this.loading=!1,e)));this.window=this.openWindow(o,this.authWindowTitle)}catch(o){this.track(`Social Login Provider Failed to Login: ${e}`,"error","auth-error"),this.popToast({message:"Failed to log in.",timer:1e4,icon:"error"}),this.window.close(),this.loading=!1}},async onMessage(e){const o=this;e.origin===window.origin&&e.data.token&&(o.popToast({message:"Successfully logged in",timer:2500,icon:"success"}),o.track("Social Login Provider Logged in Successfully","login","social login success"),await i.get("/sanctum/csrf-cookie").then((e=>{})),await o.saveToken({token:e.data.token}).then((t=>{o.getUserByToken({token:e.data.token}).then((()=>{setTimeout((()=>{o.$router.push({name:"dashboard"})}),1)}))})))},openWindow(e,o,t={}){"object"==typeof e&&(t=e,e=""),t={url:e,title:o,width:600,height:720,...t};const a=void 0!==window.screenLeft?window.screenLeft:window.screen.left,i=void 0!==window.screenTop?window.screenTop:window.screen.top,s=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight;t.left=s/2-t.width/2+a,t.top=n/2-t.height/2+i;const r=Object.keys(t).reduce(((e,o)=>(e.push(`${o}=${t[o]}`),e)),[]).join(","),l=window.open(e,o,r);return window.focus&&l.focus(),l}}},T={class:"flex flex-wrap justify-around"},S={name:"Login",components:{ArrowRightOnRectangleIcon:g,CircleSvg:L,SocialiteLogins:v(o,[["render",function(e,o,t,a,i,g){const u=s("tippy");return n(),r("div",T,[1==e.logins.facebook?l((n(),r("span",{key:0,class:c(["fa-brands fa-square-facebook fa-3x mb-2 mr-3 cursor-pointer text-blue-500 opacity-80 transition duration-300 hover:opacity-100",i.loading?"disabled opacity-40":""]),onClick:o[0]||(o[0]=e=>g.socialiteLogin("facebook"))},null,2)),[[u,"Facebook"]]):d("",!0),1==e.logins.twitter?l((n(),r("span",{key:1,class:c(["fa-brands fa-twitter fa-3x mb-2 mr-3 cursor-pointer text-blue-300 opacity-80 transition duration-300 hover:opacity-100",i.loading?"disabled opacity-40":""]),onClick:o[1]||(o[1]=e=>g.socialiteLogin("twitter"))},null,2)),[[u,"Twitter"]]):d("",!0),1==e.logins.instagram?l((n(),r("span",{key:2,class:c(["fa-brands fa-instagram fa-3x mb-2 mr-3 cursor-pointer text-gray-700 opacity-80 transition duration-300 hover:opacity-100",i.loading?"disabled opacity-40":""]),onClick:o[2]||(o[2]=e=>g.socialiteLogin("instagram"))},null,2)),[[u,"Instagram"]]):d("",!0),1==e.logins.github?l((n(),r("span",{key:3,class:c(["fa-brands fa-github fa-3x mb-2 mr-3 cursor-pointer text-gray-800 opacity-80 transition duration-300 hover:opacity-100",i.loading?"disabled opacity-40":""]),onClick:o[3]||(o[3]=e=>g.socialiteLogin("github"))},null,2)),[[u,"GitHub"]]):d("",!0),1==e.logins.youtube?l((n(),r("span",{key:4,class:c(["fa-brands fa-youtube fa-3x mb-2 mr-3 cursor-pointer text-red-500 opacity-80 transition duration-300 hover:opacity-100",i.loading?"disabled opacity-40":""]),onClick:o[4]||(o[4]=e=>g.socialiteLogin("youtube"))},null,2)),[[u,"YouTube"]]):d("",!0),1==e.logins.google?l((n(),r("span",{key:5,class:c(["fa-brands fa-google fa-3x mb-2 mr-3 cursor-pointer text-red-500 opacity-80 transition duration-300 hover:opacity-100",i.loading?"disabled opacity-40":""]),onClick:o[5]||(o[5]=e=>g.socialiteLogin("google"))},null,2)),[[u,"Google"]]):d("",!0),1==e.logins.linkedin?l((n(),r("span",{key:6,class:c(["fa-brands fa-linkedin fa-3x mb-2 mr-3 cursor-pointer text-blue-700 opacity-80 transition duration-300 hover:opacity-100",i.loading?"disabled opacity-40":""]),onClick:o[6]||(o[6]=e=>g.socialiteLogin("linkedin"))},null,2)),[[u,"LinkedIn"]]):d("",!0),1==e.logins.twitch?l((n(),r("span",{key:7,class:c(["fa-brands fa-twitch fa-3x mb-2 mr-3 cursor-pointer text-blue-600 opacity-80 transition duration-300 hover:opacity-100",i.loading?"disabled opacity-40":""]),onClick:o[7]||(o[7]=e=>g.socialiteLogin("twitch"))},null,2)),[[u,"Twitch"]]):d("",!0),1==e.logins.apple?l((n(),r("span",{key:8,class:c(["fa-brands fa-apple fa-3x mb-2 mr-3 cursor-pointer text-gray-800 opacity-80 transition duration-300 hover:opacity-100",i.loading?"disabled opacity-40":""]),onClick:o[8]||(o[8]=e=>g.socialiteLogin("apple"))},null,2)),[[u,"Apple"]]):d("",!0),1==e.logins.microsoft?l((n(),r("span",{key:9,class:c(["fa-brands fa-microsoft fa-3x mb-2 mr-3 cursor-pointer text-blue-300 opacity-80 transition duration-300 hover:opacity-100",i.loading?"disabled opacity-40":""]),onClick:o[9]||(o[9]=e=>g.socialiteLogin("microsoft"))},null,2)),[[u,"Microsoft"]]):d("",!0),1==e.logins.tiktok?l((n(),r("span",{key:10,class:c(["fa-brands fa-tiktok fa-3x mb-2 mr-3 cursor-pointer text-pink-600 opacity-80 transition duration-300 hover:opacity-100",i.loading?"disabled opacity-40":""]),onClick:o[10]||(o[10]=e=>g.socialiteLogin("tiktok"))},null,2)),[[u,"TikTok"]]):d("",!0),1==e.logins.zoho?l((n(),r("span",{key:11,class:c(["fas fa-z fa-3x mb-2 mr-3 cursor-pointer text-yellow-500 opacity-80 transition duration-300 hover:opacity-100",i.loading?"disabled opacity-40":""]),onClick:o[11]||(o[11]=e=>g.socialiteLogin("zoho"))},null,2)),[[u,"Zoho"]]):d("",!0),1==e.logins.stackexchange?l((n(),r("span",{key:12,class:c(["fa-brands fa-stack-exchange fa-3x mb-2 mr-3 cursor-pointer text-blue-400 opacity-80 transition duration-300 hover:opacity-100",i.loading?"disabled opacity-40":""]),onClick:o[12]||(o[12]=e=>g.socialiteLogin("stackexchange"))},null,2)),[[u,"StackExchange"]]):d("",!0),1==e.logins.gitlab?l((n(),r("span",{key:13,class:c(["fa-brands fa-square-gitlab fa-3x mb-2 mr-3 cursor-pointer text-orange-400 opacity-80 transition duration-300 hover:opacity-100",i.loading?"disabled opacity-40":""]),onClick:o[13]||(o[13]=e=>g.socialiteLogin("gitlab"))},null,2)),[[u,"GitLab"]]):d("",!0),1==e.logins.reddit?l((n(),r("span",{key:14,class:c(["fa-brands fa-square-reddit fa-3x mb-2 mr-3 cursor-pointer text-orange-700 opacity-80 transition duration-300 hover:opacity-100",i.loading?"disabled opacity-40":""]),onClick:o[14]||(o[14]=e=>g.socialiteLogin("reddit"))},null,2)),[[u,"GitLab"]]):d("",!0),1==e.logins.snapchat?l((n(),r("span",{key:15,class:c(["fa-brands fa-square-snapchat fa-3x mb-2 mr-3 cursor-pointer text-yellow-400 opacity-80 transition duration-300 hover:opacity-100",i.loading?"disabled opacity-40":""]),onClick:o[15]||(o[15]=e=>g.socialiteLogin("snapchat"))},null,2)),[[u,"Snapchat"]]):d("",!0),1==e.logins.meetup?l((n(),r("span",{key:16,class:c(["fa-brands fa-meetup fa-3x mb-2 mr-3 cursor-pointer text-red-400 opacity-80 transition duration-300 hover:opacity-100",i.loading?"disabled opacity-40":""]),onClick:o[16]||(o[16]=e=>g.socialiteLogin("meetup"))},null,2)),[[u,"Meetup"]]):d("",!0),1==e.logins.atlassian?l((n(),r("span",{key:17,class:c(["fa-brands fa-atlassian fa-3x mb-2 mr-3 cursor-pointer text-blue-800 opacity-80 transition duration-300 hover:opacity-100",i.loading?"disabled opacity-40":""]),onClick:o[17]||(o[17]=e=>g.socialiteLogin("atlassian"))},null,2)),[[u,"Atlassian"]]):d("",!0)])}]])},props:{showSmLogin:{type:Boolean,default:!0},isFunnelPage:{type:Boolean,default:!1},redirectToFunnel:{type:Boolean,default:!1}},setup:()=>({}),data:()=>({loginImage:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp",loginImageAlt:"Login Image",form:{email:"",password:""},errors:null,loading:!1}),computed:{...t({logins:"auth/logins",user:"auth/user"}),socialLoginsEnabled(){return!!this.showSmLogin&&!!Object.values(this.logins).find((e=>"1"==e))}},watch:{},mounted(){},methods:{...a({appLogin:"auth/login",popToast:"toast/popToast"}),async login(){this.loading=!0,this.errors=null;try{await this.appLogin(this.form).then((e=>{this.loading=!1,this.isFunnelPage||this.$route.params.redirect?C.push({name:"step-8"}):"super.admin"==this.user.roles[0].slug?C.push({name:"admin"}):C.push({name:"user"})}))}catch(e){422===e.status&&(this.errors=e.data.errors,this.popToast({message:Object.values(this.errors).flat().toString(),timer:5e3,icon:"error"})),401===e.status&&this.popToast({message:"Invalid Email or Password",timer:5e3,icon:"error"}),this.loading=!1}}}},j={class:"mx-auto mt-10 max-w-7xl px-4 text-gray-800 sm:px-6"},E={class:"g-6 flex h-full flex-wrap items-center justify-center lg:justify-between xl:justify-center"},A={class:"shrink-1 mb-12 grow-0 basis-auto md:mb-0 md:w-9/12 md:shrink-0 lg:w-6/12 xl:w-6/12"},U=["src","alt"],I={class:"mb-12 md:mb-0 md:w-8/12 lg:w-5/12 xl:ml-20 xl:w-5/12"},O={class:"mb-6 md:mt-16 lg:mt-12"},P=["disabled"],B={key:0,class:"mt-1 text-sm text-red-500"},F={class:"mb-6"},R=["disabled"],W={key:0,class:"mt-1 text-sm text-red-500"},$={class:"mb-6 flex items-center justify-between"},G=p("div",{class:"form-group form-check"},[p("input",{id:"exampleCheck2",type:"checkbox",class:"form-check-input float-left mr-2 mt-1 h-4 w-4 cursor-pointer appearance-none rounded-sm border border-gray-300 bg-white bg-contain bg-center bg-no-repeat align-top transition duration-200 checked:border-blue-600 checked:bg-blue-600 focus:outline-none"}),p("label",{class:"form-check-label mt-1 inline-block cursor-pointer text-gray-800 dark:text-gray-100",for:"exampleCheck2"},"Remember me")],-1),M={class:"text-center lg:text-left"},q={class:"mb-0 mt-4 pt-1 text-sm"},z=p("span",{class:"mr-2 cursor-default text-gray-700 dark:text-gray-300"}," Don't have an account? ",-1),_={key:0,class:"mt-5"},H=p("div",{class:"my-4 flex items-center before:mt-0.5 before:flex-1 before:border-t before:border-gray-300 after:mt-0.5 after:flex-1 after:border-t after:border-gray-300"},[p("p",{class:"mx-4 mb-0 text-center font-semibold"},"Or")],-1),D=p("h3",{class:"mb-3 font-bold text-gray-700"},"Login with",-1);e("A",v(S,[["render",function(e,o,t,a,i,s){const g=u("router-link"),w=u("ArrowRightOnRectangleIcon"),v=u("CircleSvg"),L=u("AppButton"),C=u("SocialiteLogins");return n(),r("section",null,[p("div",j,[p("div",E,[p("div",A,[p("img",{src:i.loginImage,class:"w-full",alt:i.loginImageAlt},null,8,U)]),p("div",I,[p("form",{onSubmit:o[2]||(o[2]=m(((...e)=>s.login&&s.login(...e)),["prevent"]))},[p("div",O,[p("label",{for:"email",class:c(["text-small mb-2 inline-block hidden",{"text-red-500":i.errors&&i.errors.email}])}," E-mail Address ",2),l(p("input",{id:"email","onUpdate:modelValue":o[0]||(o[0]=e=>i.form.email=e),type:"text",class:c(["form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-4 py-2 text-xl font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none",{"border-red-500":i.errors&&i.errors.email}]),disabled:i.loading,placeholder:"Email Address"},null,10,P),[[b,i.form.email]]),i.errors&&i.errors.email?(n(),r("div",B,f(i.errors.email[0]),1)):d("",!0)]),p("div",F,[p("label",{for:"password",class:c(["text-small mb-2 inline-block hidden",{"text-red-500":i.errors&&i.errors.password}])}," Password ",2),l(p("input",{id:"password","onUpdate:modelValue":o[1]||(o[1]=e=>i.form.password=e),type:"password",autocomplete:"on",class:c(["form-control m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-4 py-2 text-xl font-normal text-gray-700 transition ease-in-out focus:border-blue-600 focus:bg-white focus:text-gray-700 focus:outline-none",{"border-red-500":i.errors&&i.errors.password}]),disabled:i.loading,placeholder:"Password"},null,10,R),[[b,i.form.password]]),i.errors&&i.errors.password?(n(),r("div",W,f(i.errors.password[0]),1)):d("",!0)]),p("div",$,[G,h(g,{to:{name:"forgot-password"},class:"text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100"},{default:y((()=>[x(" Forgot password? ")])),_:1})]),p("div",M,[h(L,{primary:"",loading:i.loading,disabled:i.loading,text:(i.loading,"Login"),"btn-class":"leading-snug px-7 py-3 text-sm uppercase leading-snug shadow-md",type:"submit"},{text:y((()=>[i.loading?d("",!0):(n(),k(w,{key:0,class:"mr-2 h-6 w-6"})),i.loading?(n(),k(v,{key:1,class:"mr-2 h-6 w-6"})):d("",!0),x(" Login ")])),_:1},8,["loading","disabled","text"]),p("p",q,[z,h(g,{to:{name:"register"},class:"font-bold text-red-500 transition duration-200 ease-in-out hover:text-red-700 focus:text-red-700"},{default:y((()=>[x(" Register ")])),_:1})]),s.socialLoginsEnabled?(n(),r("div",_,[H,D,h(C)])):d("",!0)])],32)])])])])}]]))}}}));

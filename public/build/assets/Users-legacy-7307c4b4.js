System.register(["./app-legacy-f97a04bf.js","./vendor-legacy-5a00c1f1.js","./default.css_vue_type_style_index_0_src_true_lang-legacy-c634714b.js","./multiselect-legacy-22863c5d.js","./Errors-legacy-3c12a83a.js","./__commonjsHelpers__-legacy-366a78b9.js"],(function(e,t){"use strict";var r,a,s,o,i,l,n,d,c,m,u,p,g,f,h,y,b,x,w,U,k,v,C,_,R,V,T,D,E,B,I,$,M,F,S,A,P,j;return{setters:[e=>{r=e.C,a=e._},e=>{s=e.aA,o=e.aB,i=e.aC,l=e.aD,n=e.v,d=e.b,c=e.h,m=e.r,u=e.y,p=e.o,g=e.c,f=e.e,h=e.B,y=e.J,b=e.K,x=e.D,w=e.n,U=e.z,k=e.w,v=e.d,C=e.C,_=e.a,R=e.Q,V=e.E,T=e.ad,D=e.G,E=e.H,B=e.I,I=e.az,$=e.aE},e=>{M=e.P,F=e.A,S=e.c,A=e.a},e=>{P=e.s},e=>{j=e.E},null],execute:function(){var t=document.createElement("style");t.textContent="[data-v-0b5d070a] .multiselect-option{background:transparent;color:#777}[data-v-0b5d070a] .multiselect-option.is-pointed{background:#10b981;color:#fff}input[data-v-8114f2d7]:focus,select[data-v-8114f2d7]:focus,textarea[data-v-8114f2d7]:focus,button[data-v-8114f2d7]:focus,option[data-v-8114f2d7]:focus{outline:none!important;border:none!important}\n",document.head.appendChild(t);const N={name:"UsersTableRow",components:{LockClosedIcon:s,LockOpenIcon:o,CircleSvg:r,PencilSquareIcon:i,TrashIcon:l,UserCircleIcon:n},props:{user:{type:Object,required:!0},dataReady:{type:Boolean,default:!1},availableRoles:{type:Array,default:null},lockJiggled:{type:Boolean,default:!1}},setup:()=>({}),data:()=>({locked:!0}),computed:{},watch:{lockJiggled(e){this.locked=!0}},created(){},mounted(){},beforeUnmount(){},updated(){},methods:{...d({popToast:"toast/popToast"}),roleClass:e=>"admin"==e?"bg-orange-100 text-orange-800 dark:bg-orange-700 dark:text-gray-100":"super.admin"==e?"bg-blue-100 text-blue-800 dark:bg-blue-700 dark:text-gray-100":"user"==e?"bg-yellow-100 text-yellow-800 dark:bg-yellow-700 dark:text-gray-100":"editor"==e?"bg-green-100 text-green-800 dark:bg-green-700 dark:text-gray-100":"moderator"==e?"bg-red-100 text-red-800 dark:bg-red-700 dark:text-gray-100":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-100",parseDisplayDate:e=>c(e).format("MMM Do YYYY, h:mma"),fireVerification(){const e=this,t=this.user.email_verified_at;let r=`<strong>Verify ${this.user.name}?</strong>`,a="Are you sure you want to <strong>Verify";this.user.name,this.user.email;let s="warning",o="#FF0000",i="#777777",l="Verify",n="Cancel";t&&(r=`<strong>Un-Verify ${this.user.name}?</strong>`,a="Are you sure you want to <strong>Un-Verify",this.user.name,this.user.email,s="warning",o="#FF0000",i="#777777",l="Un-Verify",n="Cancel"),e.$swal.fire({title:r,icon:s,html:a,showCancelButton:!1,showDenyButton:!0,confirmButtonColor:o,denyButtonColor:i,confirmButtonText:l,denyButtonText:n}).then((r=>{r.isConfirmed?t?this.$emit("confirmUnVerifyUser",this.user):this.$emit("confirmVerifyUser",this.user):r.isDenied&&e.popToast({message:"Cancelled",timer:2e3,icon:"error"})}))},triggerEditUser(){this.$emit("editUser",this.user)},triggerDeleteUser(){const e=this,t=`<strong>Delete ${this.user.name}?</strong>`;this.user.name,this.user.email,e.$swal.fire({title:t,icon:"warning",html:"Are you sure you want to <strong>Delete",showCancelButton:!1,showDenyButton:!0,confirmButtonColor:"#FF0000",denyButtonColor:"#777777",confirmButtonText:"Delete",denyButtonText:"Cancel"}).then((t=>{t.isConfirmed?this.$emit("deleteUser",this.user):t.isDenied&&e.popToast({message:"Cancelled",timer:2e3,icon:"error"})}))},triggerUserConfirmEmail(){const e=this,t=`<strong>Send ${this.user.name} verification email</strong>`;this.user.name,this.user.email,e.$swal.fire({title:t,icon:"info",html:"Are you sure you want to <strong>Send ",showCancelButton:!1,showDenyButton:!0,confirmButtonColor:"#10b981",denyButtonColor:"#777777",confirmButtonText:"Confirm Send",denyButtonText:"Cancel"}).then((t=>{t.isConfirmed?this.$emit("sendUserVerification",this.user):t.isDenied&&e.popToast({message:"Cancelled",timer:2e3,icon:"error"})}))},triggerImpersonateUser(){this.$emit("impersonateUserTriggered",this.user)}}},Y={class:"bg-gray-100 text-gray-900 dark:bg-slate-700 dark:text-gray-100"},J={class:"border-b border-gray-300 px-5 py-5 text-sm dark:border-gray-500"},L={class:"flex items-center"},z={class:"h-10 w-10 flex-shrink-0"},G=["src","alt"],K={class:"ml-3"},O={class:"whitespace-nowrap text-xs"},q={class:"border-b border-gray-300 px-5 py-5 text-xs dark:border-gray-500"},H={class:"flex items-center"},Q=["href"],W={class:"whitespace-nowrap border-b border-gray-300 px-5 py-5 text-xs dark:border-gray-500"},X={key:0},Z={class:"border-b border-gray-300 px-5 py-5 text-xs dark:border-gray-500"},ee={key:0,class:"whitespace-nowrap"},te={class:"border-b border-gray-300 px-5 py-5 text-xs dark:border-gray-500"},re={class:"relative inline-block px-3 py-1 font-semibold leading-tight"},ae={class:"whitespace-nowrap"},se=f("span",{class:"far fa-paper fa-fw fa-sm fa-regular fa-envelope"},null,-1),oe={key:0,class:"far fa-circle fa-fw fa-sm"},ie={key:1,class:"far fa-circle-check fa-fw fa-sm"},le={key:0,class:"inset-0 py-1"},ne={class:"whitespace-nowrap border-b border-gray-300 px-5 py-5 text-sm dark:border-gray-500"},de={class:"sr-only"},ce=f("span",{class:"sr-only"},"Edit User",-1),me=f("span",{class:"sr-only"},"Delete User",-1),ue=f("span",{class:"sr-only"},"Impersonate User",-1),pe={name:"UsersTable",components:{Pagination:M,UsersTableRow:a(N,[["render",function(e,t,r,a,s,o){const i=m("AppButton"),l=m("LockClosedIcon"),n=m("LockOpenIcon"),d=m("CircleSvg"),c=m("PencilSquareIcon"),_=m("TrashIcon"),R=m("UserCircleIcon"),V=u("tippy");return p(),g("tr",Y,[f("td",J,[f("div",L,[f("div",z,[f("img",{class:"h-full w-full rounded-full",src:r.user.avatar,alt:r.user.name},null,8,G)]),f("div",K,[f("p",O,h(r.user.name),1)])])]),f("td",q,[f("div",H,[f("a",{class:"whitespace-nowrap",href:"mailto:"+r.user.email,title:"send email"},h(r.user.email),9,Q)])]),f("td",W,[f("p",null,[r.user.roles&&r.user.roles.length?(p(),g("span",X,[(p(!0),g(y,null,b(r.user.roles,(e=>(p(),g("span",{key:"user_"+r.user.id+"_role_"+e.id},[f("span",{class:w(["m-1 inline-block cursor-default whitespace-nowrap rounded px-2.5 py-0.5 text-xs font-bold",o.roleClass(e.slug)])},h(e.name),3)])))),128))])):x("",!0)])]),f("td",Z,[r.user.created_at?(p(),g("p",ee,h(o.parseDisplayDate(r.user.created_at)),1)):x("",!0)]),f("td",te,[f("span",re,[f("div",ae,[f("div",{class:w(["inline rounded px-1 py-0",r.user.email_verified_at?"bg-green-700 text-gray-100":"bg-red-700 text-gray-100"])},h(r.user.email_verified_at?"Verified":"Unverified"),3),r.user.email_verified_at?x("",!0):(p(),U(i,{key:0,disabled:s.locked,loading:!r.dataReady,class:"ml-2 inline-block rounded bg-transparent px-1 py-2 text-xs font-medium leading-snug leading-snug text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg","btn-class":"text-yellow-700 dark:bg-transparent hover:bg-gray-200","btn-class-dark":"bg-transparent dark:bg-transparent dark:hover:bg-gray-900",onClick:o.triggerUserConfirmEmail},{text:k((()=>[se])),_:1},8,["disabled","loading","onClick"])),v(i,{disabled:s.locked,loading:!r.dataReady,class:"ml-1 inline-block rounded bg-transparent px-1 py-2 text-xs font-medium leading-snug leading-snug text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg","btn-class":"text-yellow-700 dark:bg-transparent dark:hover:bg-gray-900 hover:bg-gray-200","btn-class-dark":"bg-transparent dark:bg-transparent dark:hover:bg-gray-900",onClick:o.fireVerification},{text:k((()=>[r.user.email_verified_at?x("",!0):(p(),g("span",oe)),r.user.email_verified_at?(p(),g("span",ie)):x("",!0)])),_:1},8,["disabled","loading","onClick"])]),r.user.email_verified_at?(p(),g("div",le,h(o.parseDisplayDate(r.user.email_verified_at)),1)):x("",!0)])]),f("td",ne,[v(i,{loading:!r.dataReady,class:"mr-2 inline-block rounded px-1 py-1 text-sm font-medium leading-snug leading-snug text-gray-700 shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg dark:text-white","btn-class":(s.locked,"bg-transparent focus:bg-transparent active:bg-transparent dark:focus:bg-transparent dark:active:bg-transparent dark:hover:bg-transparent"),"btn-hover-class":(s.locked,"hover:bg-transparent focus:bg-transparent active:bg-transparent dark:focus:bg-transparent dark:active:bg-transparent dark:hover:bg-transparent"),"btn-class-dark":(s.locked,"bg-transparent focus:bg-transparent active:bg-transparent dark:focus:bg-transparent dark:active:bg-transparent dark:hover:bg-transparent"),"btn-hover-class-dark":(s.locked,"hover:bg-transparent focus:bg-transparent active:bg-transparent dark:focus:bg-transparent dark:active:bg-transparent dark:hover:bg-transparent"),onClick:t[0]||(t[0]=e=>s.locked=!s.locked)},{text:k((()=>[s.locked&&r.dataReady?(p(),U(l,{key:0,class:"ml-2 mr-2 mt-0 h-4 w-4"})):x("",!0),!s.locked&&r.dataReady?(p(),U(n,{key:1,class:"ml-2 mr-2 mt-0 h-4 w-4"})):x("",!0),r.dataReady?x("",!0):(p(),U(d,{key:2,class:"mr-2 h-3 w-3"})),f("span",de,h(s.locked?"Unlock":"Lock")+" User Settings",1)])),_:1},8,["loading","btn-class","btn-hover-class","btn-class-dark","btn-hover-class-dark"]),C((p(),U(i,{warning:"",disabled:s.locked,loading:!r.dataReady,class:"mr-2 px-1 py-1 text-sm",onClick:o.triggerEditUser},{text:k((()=>[r.dataReady?(p(),U(c,{key:0,class:"ml-2 mr-2 mt-0 h-4 w-4"})):x("",!0),r.dataReady?x("",!0):(p(),U(d,{key:1,class:"mr-2 h-3 w-3"})),ce])),_:1},8,["disabled","loading","onClick"])),[[V,"Edit User"]]),C((p(),U(i,{danger:"",disabled:s.locked,loading:!r.dataReady,class:"mr-2 px-1 py-1 text-sm",onClick:o.triggerDeleteUser},{text:k((()=>[r.dataReady?(p(),U(_,{key:0,class:"ml-2 mr-2 mt-0 h-4 w-4"})):x("",!0),r.dataReady?x("",!0):(p(),U(d,{key:1,class:"mr-2 h-3 w-3"})),me])),_:1},8,["disabled","loading","onClick"])),[[V,"Delete User"]]),C((p(),U(i,{secondary:"",disabled:s.locked,loading:!r.dataReady,class:"mr-2 px-1 py-1 text-sm",onClick:o.triggerImpersonateUser},{text:k((()=>[r.dataReady?(p(),U(R,{key:0,class:"ml-2 mr-2 mt-0 h-4 w-4"})):x("",!0),r.dataReady?x("",!0):(p(),U(d,{key:1,class:"mr-2 h-3 w-3"})),ue])),_:1},8,["disabled","loading","onClick"])),[[V,"Impersonate User"]])])])}]])},props:{dataReady:{type:Boolean,default:!1},lockJiggled:{type:Boolean,default:!1},users:{type:Array,default:()=>[]},pagination:{type:Object,default:()=>({})},availableRoles:{type:Array,default:null}},setup:()=>({}),data:()=>({offset:4}),computed:{..._({authenticated:"auth/authenticated",user:"auth/user",roles:"auth/roles"})},watch:{},created(){},mounted(){},beforeUnmount(){},updated(){},methods:{...d({popToast:"toast/popToast"}),getUsers(e){this.$emit("getUsers",e)},confirmUnVerifyUser(e){this.$emit("confirmUnVerifyUser",e)},confirmVerifyUser(e){this.$emit("confirmVerifyUser",e)},deleteUser(e){this.$emit("deleteUser",e)},editUser(e){this.$emit("editUser",e)},sendUserVerification(e){this.$emit("sendUserVerification",e)},impersonateUserTriggered(e){this.$emit("impersonateUserTriggered",e)}}},ge={class:"overflow-x-scroll rounded-lg shadow",style:{width:"100%"}},fe={class:"min-w-full leading-normal","aria-describedby":"Users Table"},he=f("thead",null,[f("tr",{class:"border-b-2 border-gray-300 bg-gray-200 text-gray-600 dark:border-gray-500 dark:bg-slate-900 dark:text-gray-200"},[f("th",{class:"px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider"}," User "),f("th",{class:"px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider"}," Email "),f("th",{class:"px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider"}," Role(s) "),f("th",{class:"whitespace-nowrap px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider"}," Created at "),f("th",{class:"px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider"}," Status "),f("th",{class:"px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider"}," Actions ")])],-1),ye={key:0},be={key:1},xe=[f("tr",{class:"bg-gray-100 text-gray-900 dark:bg-slate-700 dark:text-gray-100"},[f("td",{colspan:"6",class:"pb-10 pt-10 text-center"},[f("span",{class:"fa fa-circle-notch fa-spin fa-5x text-gray-400"})])],-1)],we={key:0,class:"xs:flex-row xs:justify-between flex flex-col items-center px-3 py-3 dark:bg-slate-700"},Ue=a(pe,[["render",function(e,t,r,a,s,o){const i=m("UsersTableRow"),l=m("Pagination");return p(),g("div",ge,[f("table",fe,[he,r.dataReady?(p(),g("tbody",ye,[(p(!0),g(y,null,b(r.users,(e=>(p(),U(i,{key:e.id,user:e,"data-ready":r.dataReady,"available-roles":r.availableRoles,"lock-jiggled":r.lockJiggled,onConfirmUnVerifyUser:o.confirmUnVerifyUser,onConfirmVerifyUser:o.confirmVerifyUser,onDeleteUser:o.deleteUser,onEditUser:o.editUser,onSendUserVerification:o.sendUserVerification,onImpersonateUserTriggered:o.impersonateUserTriggered},null,8,["user","data-ready","available-roles","lock-jiggled","onConfirmUnVerifyUser","onConfirmVerifyUser","onDeleteUser","onEditUser","onSendUserVerification","onImpersonateUserTriggered"])))),128))])):x("",!0),r.dataReady?x("",!0):(p(),g("tbody",be,xe))]),r.dataReady&&r.users&&r.users.length>=1?(p(),g("div",we,[v(l,{pagination:r.pagination,offset:4,onPaginate:o.getUsers},null,8,["pagination","onPaginate"])])):x("",!0)])}]]),ke={name:"UserFormModal",components:{AppModal:F,UserCircleIcon:n,Multiselect:P,Errors:j},props:{showingForm:{type:Boolean,default:!1},newUser:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},user:{type:Object,default:null},availableRoles:{type:Array,default:null},useInlineMessage:{type:Boolean,default:!0}},setup:()=>({}),data:()=>({userName:"",form:{name:null,email:null,password:null,password_confirmation:null,roles:[],theme_dark:!1,email_verified_at:null},submitting:!1,errors:null,changed:!1,ready:!1}),computed:{},watch:{form:{handler(e,t){this.ready&&(this.changed=!0)},deep:!0,immediate:!1}},created(){},mounted(){const e=this;if(e.user){if(e.form=S(e.user),e.user.name&&(e.userName=e.user.name),e.user.roles){const t=e.user.roles;e.form.roles=[];for(const r in t)e.form.roles.push(t[r].id)}setTimeout((()=>{e.ready=!0}),100)}else e.ready=!0},beforeUnmount(){},updated(){},methods:{...d({popToast:"toast/popToast"}),parseDisplayDate:e=>e&&1!=e?c(e).format("MMM Do YYYY, h:mma"):c(new Date).format("MMM Do YYYY, h:mma"),async submit(){this.error=null,this.submitting=!0,this.newUser&&await this.createUser(),this.newUser||await this.updateUser(),this.submitting=!1},async createUser(){await R.post("/api/users/create-user",this.form).then((({data:e})=>{this.$emit("userCreated",e.user),this.popToast({message:"User Successfully Created!",timer:5e3,icon:"success"}),this.submitting=!1})).catch((({response:e})=>{if(422===e.status){const{errors:t}=e.data;this.errors=t}else this.popToast({message:"Error Creating User",timer:5e3,icon:"error"});this.submitting=!1})),this.submitting=!1},async updateUser(){await R.patch(`/api/users/update-user/${this.user.id}`,this.form).then((({data:e})=>{this.$emit("userUpdated",e.user),this.popToast({message:`User ${e.user.name} Successfully Updated!`,timer:5e3,icon:"success"}),this.submitting=!1})).catch((({response:e})=>{if(422===e.status){const{errors:t}=e.data;this.errors=t}else this.popToast({message:"Error Updating User",timer:5e3,icon:"error"});this.submitting=!1})),this.submitting=!1},toggleUserVerified(){this.form.email_verified_at?this.form.email_verified_at=null:this.form.email_verified_at=!0},closeModal(){this.$emit("closeModal")}}},ve=e=>(E("data-v-0b5d070a"),e=e(),B(),e),Ce={class:"relative mb-3 flex w-full flex-wrap items-stretch"},_e={class:"flex-item relative mb-3 mr-2"},Re=["src","alt"],Ve={class:"flex-item relative mb-3 flex-auto"},Te={class:"absolute absolute right-0 z-10 h-full w-8 items-center justify-center rounded bg-transparent py-3 pr-3 text-center text-base font-normal leading-snug text-slate-300"},De={class:"relative mb-3 flex w-full flex-wrap items-stretch"},Ee={class:"flex-item relative mb-3 flex-auto"},Be={class:"absolute absolute right-0 z-10 h-full w-8 items-center justify-center rounded bg-transparent py-3 pr-3 text-center text-base font-normal leading-snug"},Ie={class:"relative mb-3 flex w-full flex-wrap items-stretch"},$e={class:"flex-item relative mb-3 flex-auto"},Me={class:"absolute absolute right-0 z-10 h-full w-8 items-center justify-center rounded bg-transparent py-3 pr-3 text-center text-base font-normal leading-snug"},Fe={class:"relative mb-3 flex w-full flex-wrap items-stretch"},Se={class:"flex-item relative mb-3 flex-auto"},Ae={class:"absolute absolute right-0 z-10 h-full w-8 items-center justify-center rounded bg-transparent py-3 pr-3 text-center text-base font-normal leading-snug"},Pe={class:"relative mb-3 flex w-full flex-wrap items-stretch"},je={class:"flex-item relative mb-3 ml-2 flex-auto"},Ne={class:"text-xs uppercase"},Ye={class:"mt-2 whitespace-nowrap text-xs"},Je={class:"relative mb-3 flex w-full flex-wrap items-stretch"},Le={class:"flex-item relative mb-3 ml-3 flex-auto"},ze={class:"my-1 mr-3 w-full py-2 sm:flex sm:items-center"},Ge={key:0,class:"fa-solid fa-fw fa-1x fa-circle-notch fa-spin absolute float-left mr-4 text-slate-600",style:{left:"-1.4em",top:"1.2em"}},Ke={class:"mt-1 inline-block text-sm"},Oe={class:"relative mb-3 flex w-full flex-wrap items-stretch"},qe={class:"flex-item relative flex-auto"},He=ve((()=>f("h6",null,"User Roles",-1))),Qe={class:"relative mb-3 mt-5 flex w-full flex-wrap items-stretch"},We={class:"flex-item relative flex-auto text-xs uppercase"},Xe={key:0,class:"float-left"},Ze={class:"text-xs font-bold"},et={class:"flex-item relative flex-auto text-xs uppercase"},tt={key:0,class:"float-right"},rt={class:"text-xs font-bold"},at=ve((()=>f("hr",null,null,-1))),st={style:{width:"100%"}},ot={key:0,class:"fa fa-circle-notch fa-spin ml-3"},it={name:"Users",components:{ChevronRightIcon:I,PerPage:A,UsersTable:Ue,UserPlusIcon:$,CircleSvg:r,UserFormModal:a(ke,[["render",function(e,t,r,a,s,o){const i=m("Errors"),l=m("UserCircleIcon"),n=m("AppButton"),d=m("Multiselect"),c=m("AppModal");return p(),U(c,{"show-modal":r.showingForm,onCloseModal:o.closeModal},{title:k((()=>[V(h(r.newUser?"Create User":"Editing User "+s.userName),1)])),body:k((()=>[s.errors&&r.useInlineMessage?(p(),U(i,{key:0,content:s.errors,errors:s.errors,"container-class":"w-100 mb-5",type:"error",onClose:t[0]||(t[0]=e=>s.errors=null)},null,8,["content","errors"])):x("",!0),f("form",{onSubmit:t[7]||(t[7]=D((()=>{}),["prevent"]))},[f("div",Ce,[f("div",_e,[s.form&&s.form.avatar?(p(),g("img",{key:0,src:s.form.avatar,alt:s.form.name,class:"float-left ml-2 mr-2 mt-1 h-10 w-10 rounded-full"},null,8,Re)):(p(),U(l,{key:1,class:"float-left ml-2 mr-2 mt-1 h-10 w-10 text-gray-500"}))]),f("div",Ve,[C(f("input",{id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>s.form.name=e),type:"text",placeholder:"Name",name:"name",class:w(["relative w-full rounded border bg-white bg-white px-3 py-3 pr-10 text-sm shadow outline-none focus:outline-none",s.errors&&s.errors.name?"border-red-500 text-red-600 placeholder-red-500 dark:placeholder-red-600":"border-transparent text-slate-600 placeholder-slate-300 dark:placeholder-slate-400"])},null,2),[[T,s.form.name]]),f("span",Te,[f("span",{class:w(["fas fa-user",s.errors&&s.errors.name?"text-red-600":"text-slate-300"])},null,2)])])]),f("div",De,[f("div",Ee,[C(f("input",{id:"email","onUpdate:modelValue":t[2]||(t[2]=e=>s.form.email=e),type:"text",placeholder:"E-mail",name:"email",class:w(["relative w-full rounded border bg-white bg-white px-3 py-3 pr-10 text-sm shadow outline-none focus:outline-none",s.errors&&s.errors.email?"border-red-500 text-red-600 placeholder-red-500 dark:text-red-600 dark:placeholder-red-600":"border-transparent text-slate-600 placeholder-slate-300 dark:placeholder-slate-400"])},null,2),[[T,s.form.email]]),f("span",Be,[f("span",{class:w(["fas fa-envelope",s.errors&&s.errors.email?"text-red-600":"text-slate-300"])},null,2)])])]),f("div",Ie,[f("div",$e,[C(f("input",{id:"password","onUpdate:modelValue":t[3]||(t[3]=e=>s.form.password=e),type:"password",placeholder:"Password",name:"password",autocomplete:"on",class:w(["relative w-full rounded border bg-white bg-white px-3 py-3 pr-10 text-sm shadow outline-none focus:outline-none",s.errors&&s.errors.password?"border-red-500 text-red-600 placeholder-red-500 dark:text-red-600 dark:placeholder-red-600":"border-transparent text-slate-600 placeholder-slate-300 dark:placeholder-slate-400"])},null,2),[[T,s.form.password]]),f("span",Me,[f("span",{class:w(["fas fa-user-shield",s.errors&&s.errors.email?"text-red-600":"text-slate-300"])},null,2)])])]),f("div",Fe,[f("div",Se,[C(f("input",{id:"password_confirmation","onUpdate:modelValue":t[4]||(t[4]=e=>s.form.password_confirmation=e),type:"password",placeholder:"Password Confirmation",name:"password_confirmation",autocomplete:"on",class:w(["relative w-full rounded border bg-white bg-white px-3 py-3 pr-10 text-sm shadow outline-none focus:outline-none",s.errors&&s.errors.password?"border-red-500 text-red-600 placeholder-red-500 dark:placeholder-red-600":"border-transparent text-slate-600 placeholder-slate-300 dark:placeholder-slate-400"])},null,2),[[T,s.form.password_confirmation]]),f("span",Ae,[f("span",{class:w(["fas fa-user-shield",s.errors&&s.errors.email?"text-red-600":"text-slate-300"])},null,2)])])]),f("div",Pe,[f("div",je,[f("h6",Ne,[V(" Verified: "),v(n,{disabled:r.loading||s.submitting,class:"float-right mb-2 ml-3 bg-yellow-600 px-1 py-0 text-sm font-medium leading-snug leading-snug text-white shadow-md transition duration-150 ease-in-out hover:bg-yellow-500 hover:shadow-lg focus:shadow-lg active:shadow-lg dark:bg-yellow-500 dark:hover:bg-yellow-600",style:{width:"80px"},onClick:o.toggleUserVerified},{text:k((()=>[V(h(s.form&&s.form.email_verified_at?"Un-Verify":"Verify"),1)])),_:1},8,["disabled","onClick"])]),f("div",Ye,h(s.form&&s.form.email_verified_at?o.parseDisplayDate(s.form.email_verified_at):"Not Verified"),1)])]),f("div",Je,[f("div",Le,[f("div",ze,[f("span",{class:w(r.loading||s.submitting?"default disabled cursor-pointer":"cursor-pointer"),onClick:t[5]||(t[5]=e=>s.form.theme_dark=!s.form.theme_dark)},[f("span",{class:w(["fa-solid fa-fw fa-2x float-left mr-4 text-slate-600 dark:text-gray-300",s.form.theme_dark?"fa-toggle-on":"fa-toggle-off"])},null,2),r.loading?(p(),g("span",Ge)):x("",!0),f("span",Ke,h(s.form.theme_dark?"Dark Theme":"Light Theme"),1)],2)])])]),f("div",Oe,[f("div",qe,[He,v(d,{modelValue:s.form.roles,"onUpdate:modelValue":t[6]||(t[6]=e=>s.form.roles=e),options:r.availableRoles,"track-by":"id",label:"name",mode:"tags",placeholder:"Select user roles"},null,8,["modelValue","options"])])]),f("div",Qe,[f("div",We,[s.form.created_at?(p(),g("div",Xe,[V(" Created at: "),f("div",Ze,h(o.parseDisplayDate(s.form.created_at)),1)])):x("",!0)]),f("div",et,[s.form.updated_at?(p(),g("div",tt,[V(" Updated at: "),f("div",rt,h(o.parseDisplayDate(s.form.updated_at)),1)])):x("",!0)])])],32)])),footer:k((()=>[at,f("div",st,[s.changed?(p(),U(n,{key:0,disabled:r.loading||s.submitting||!s.changed,class:"float-left border border-green-800 bg-transparent bg-transparent text-sm font-medium text-green-800 text-white shadow-md transition duration-150 ease-in-out hover:border-green-900 hover:bg-green-900 hover:text-white hover:shadow-lg focus:shadow-lg active:shadow-lg dark:hover:border-green-800 dark:hover:bg-green-800",onClick:o.submit},{text:k((()=>[V(h(r.newUser?s.submitting?"Creating":"Create":s.submitting?"Updating":"Update")+" ",1),s.submitting?(p(),g("span",ot)):x("",!0)])),_:1},8,["disabled","onClick"])):x("",!0),v(n,{disabled:r.loading||s.submitting,class:"float-right border border-gray-700 bg-transparent bg-transparent text-sm font-medium text-gray-700 text-white shadow-md transition duration-150 ease-in-out hover:border-gray-700 hover:bg-gray-700 hover:text-white hover:shadow-lg focus:shadow-lg active:shadow-lg dark:hover:bg-gray-700",onClick:o.closeModal},{text:k((()=>[V(h(s.changed?"Cancel":"Close"),1)])),_:1},8,["disabled","onClick"])])])),_:1},8,["show-modal","onCloseModal"])}],["__scopeId","data-v-0b5d070a"]])},props:{},setup:()=>({}),data:()=>({users:[],pagination:{},perPage:10,dataReady:!1,showCreateUserForm:!1,userEditing:null,creatingNewUser:!1,userFormKey:432489,availableRoles:[],rolesDataReady:!1,lockJigled:!1}),computed:{..._({authenticated:"auth/authenticated",user:"auth/user",roles:"auth/roles"})},watch:{},created(){},mounted(){this.getRoles(),this.getUsers()},beforeUnmount(){},updated(){},methods:{...d({popToast:"toast/popToast",verifyResend:"auth/verifyResend",impersonateUser:"auth/impersonateUser"}),perPageChanged(e){this.perPage=parseInt(e),this.pagination.current_page=1,this.getUsers()},async getUsers(e=null){e&&(this.pagination.current_page=e),await R.get(`/api/users?page=${this.pagination.current_page}&per=${this.perPage}`).then((({data:e})=>{this.users=e.data,delete e.data,this.pagination=e,this.dataReady=!0})).catch((({response:e})=>{this.popToast({message:"Error Getting Users",timer:5e3,icon:"error"}),this.dataReady=!0})),this.dataReady=!0},async confirmUnVerifyUser(e){await R.post("/api/users/toggle-verify",{action:"unVerifyUser",user:e}).then((({data:e})=>{this.users=this.users.map((t=>t.id!==e.id?t:e)),this.popToast({message:"Successfully Un-Verified!",timer:5e3,icon:"warning"})})).catch((({response:e})=>{this.popToast({message:"Error Un-Verifying User",timer:5e3,icon:"error"}),this.dataReady=!0}))},async confirmVerifyUser(e){await R.post("/api/users/toggle-verify",{action:"confirmVerifyUser",user:e}).then((({data:e})=>{this.users=this.users.map((t=>t.id!==e.id?t:e)),this.popToast({message:"Successfully Verified!",timer:5e3,icon:"success"})})).catch((({response:e})=>{this.popToast({message:"Error Verifying User",timer:5e3,icon:"error"}),this.dataReady=!0}))},async deleteUser(e){await R.delete(`/api/users/delete/user/${e.id}`).then((({data:e})=>{this.users=this.users.filter((t=>t.id!=e.id)),this.popToast({message:"Successfully Deleted!",timer:5e3,icon:"success"})})).catch((({response:e})=>{this.popToast({message:"Error Deleting User",timer:5e3,icon:"error"}),this.dataReady=!0}))},async getRoles(){this.rolesDataReady=!1,await R.get("/api/roles").then((({data:e})=>{this.availableRoles=e.roles,this.rolesDataReady=!0})).catch((({response:e})=>{this.popToast({message:"Error Getting Roles",timer:5e3,icon:"error"}),this.rolesDataReady=!0}))},triggerCreateUser(){this.userFormKey+=1,this.creatingNewUser=!0,this.showCreateUserForm=!0,this.userEditing=null},triggerUpdateUser(e){this.creatingNewUser=!1,this.userEditing=e},userCreated(e){this.users.push(e),this.getUsers(),this.closeUserForm()},userUpdated(e){this.users=this.users.map((t=>t.id!==e.id?t:e)),this.getUsers(),this.jiggleTheLock(),this.closeUserForm()},jiggleTheLock(){const e=this;e.lockJigled=!0,setTimeout((()=>{e.lockJigled=!1}),1)},closeUserForm(){this.userEditing=null,this.creatingNewUser=!1,this.showCreateUserForm=!1},editUser(e){this.userFormKey+=1,this.userEditing=e,this.creatingNewUser=!1,this.showCreateUserForm=!0},async sendUserVerification(e){try{await this.verifyResend({id:e.id}).then((e=>{this.popToast({message:"Email sent.",timer:5e3,icon:"success"})}))}catch(t){this.popToast({message:"An errored, please try again later.",timer:5e3,icon:"error"})}},async impersonateUserTriggered(e){try{await this.impersonateUser({user:e}).then((e=>{}))}catch(t){this.popToast({message:"Unable To Impersonate User",timer:5e3,icon:"error"})}}}},lt={id:"users",class:"bg-white p-3 dark:bg-slate-800 dark:text-gray-200"},nt={class:"mb-6 text-sm font-semibold","aria-label":"Breadcrumb"},dt={class:"inline-flex list-none p-0"},ct={class:"flex items-center"},mt={class:"flex items-center"},ut={class:"flex items-center"},pt=(e=>(E("data-v-8114f2d7"),e=e(),B(),e))((()=>f("span",{class:"sr-only"},"Create New User",-1)));e("default",a(it,[["render",function(e,t,r,a,s,o){const i=m("router-link"),l=m("ChevronRightIcon"),n=m("PerPage"),d=m("UserPlusIcon"),c=m("CircleSvg"),h=m("AppButton"),y=m("UsersTable"),b=m("UserFormModal"),_=u("tippy");return p(),g("div",lt,[f("nav",nt,[f("ol",dt,[f("li",ct,[e.authenticated&&e.roles&&(e.roles.admin||e.roles.superAdmin)?(p(),U(i,{key:0,to:{name:"admin"},class:"text-gray-500 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-400"},{default:k((({isActive:e})=>[V(" Admin ")])),_:1})):x("",!0)]),f("li",mt,[v(l,{class:"ml-2 mr-2 mt-0 h-4 w-4"})]),f("li",ut,[e.authenticated&&e.roles&&(e.roles.admin||e.roles.superAdmin)?(p(),U(i,{key:0,to:{name:"users"},class:"text-gray-500 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-400"},{default:k((({isActive:e})=>[f("span",{class:w([e&&"cursor-default text-gray-800 hover:text-gray-900 dark:text-gray-500 dark:hover:text-gray-500"])}," Users ",2)])),_:1})):x("",!0)])]),v(n,{items:s.users,"per-page":s.perPage,class:"float-right mb-2",style:{"margin-top":"-0.5em"},onChanged:o.perPageChanged},null,8,["items","per-page","onChanged"])]),C((p(),U(h,{disabled:s.showCreateUserForm||!s.dataReady,class:"float-right mb-2 px-2 py-2 text-sm font-medium",onClick:o.triggerCreateUser},{text:k((()=>[s.dataReady?(p(),U(d,{key:0,class:"ml-2 mr-2 mt-0 h-4 w-4"})):x("",!0),s.dataReady?x("",!0):(p(),U(c,{key:1,class:"ml-2 mr-2 mt-0 h-4 w-4"})),pt])),_:1},8,["disabled","onClick"])),[[_,"Create User"]]),v(y,{users:s.users,pagination:s.pagination,"per-page":s.perPage,"data-ready":s.dataReady,"available-roles":s.availableRoles,"lock-jiggled":s.lockJigled,onGetUsers:o.getUsers,onConfirmUnVerifyUser:o.confirmUnVerifyUser,onConfirmVerifyUser:o.confirmVerifyUser,onDeleteUser:o.deleteUser,onEditUser:o.editUser,onSendUserVerification:o.sendUserVerification,onImpersonateUserTriggered:o.impersonateUserTriggered},null,8,["users","pagination","per-page","data-ready","available-roles","lock-jiggled","onGetUsers","onConfirmUnVerifyUser","onConfirmVerifyUser","onDeleteUser","onEditUser","onSendUserVerification","onImpersonateUserTriggered"]),(p(),U(b,{key:s.userFormKey,"showing-form":s.showCreateUserForm,user:s.userEditing,"new-user":s.creatingNewUser,"available-roles":s.availableRoles,onCloseModal:o.closeUserForm,onUserCreated:o.userCreated,onUserUpdated:o.userUpdated},null,8,["showing-form","user","new-user","available-roles","onCloseModal","onUserCreated","onUserUpdated"]))])}],["__scopeId","data-v-8114f2d7"]]))}}}));
